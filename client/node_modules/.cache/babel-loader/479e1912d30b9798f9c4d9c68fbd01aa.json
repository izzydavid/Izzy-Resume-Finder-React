{"ast":null,"code":"import _classCallCheck from\"/Users/davidirizarry/Desktop/Macbook/Coding-BootCamp/Coding-BootCamp/25-Project-3/resume_finder/izzy-resume-finder-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/davidirizarry/Desktop/Macbook/Coding-BootCamp/Coding-BootCamp/25-Project-3/resume_finder/izzy-resume-finder-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/davidirizarry/Desktop/Macbook/Coding-BootCamp/Coding-BootCamp/25-Project-3/resume_finder/izzy-resume-finder-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/davidirizarry/Desktop/Macbook/Coding-BootCamp/Coding-BootCamp/25-Project-3/resume_finder/izzy-resume-finder-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/davidirizarry/Desktop/Macbook/Coding-BootCamp/Coding-BootCamp/25-Project-3/resume_finder/izzy-resume-finder-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import AuthService from'./AuthService';export default function withAuth(AuthComponent){var Auth=new AuthService();return(/*#__PURE__*/function(_Component){_inherits(AuthWrapped,_Component);// Code here now\nfunction AuthWrapped(){var _this;_classCallCheck(this,AuthWrapped);_this=_possibleConstructorReturn(this,_getPrototypeOf(AuthWrapped).call(this));_this.state={user:null};return _this;}_createClass(AuthWrapped,[{key:\"componentWillMount\",value:function componentWillMount(){if(!Auth.loggedIn()){this.props.history.replace('/login');}else{try{var profile=Auth.getProfile();this.setState({user:profile});}catch(err){Auth.logout();this.props.history.replace('/login');}}}},{key:\"render\",value:function render(){if(this.state.user){return React.createElement(AuthComponent,{history:this.props.history,user:this.state.user});}else{return null;}}}]);return AuthWrapped;}(Component));}","map":{"version":3,"sources":["/Users/davidirizarry/Desktop/Macbook/Coding-BootCamp/Coding-BootCamp/25-Project-3/resume_finder/izzy-resume-finder-react/client/src/components/withAuth.js"],"names":["React","Component","AuthService","withAuth","AuthComponent","Auth","state","user","loggedIn","props","history","replace","profile","getProfile","setState","err","logout"],"mappings":"4tCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAEA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,aAAlB,CAAiC,CAC5C,GAAMC,CAAAA,IAAI,CAAG,GAAIH,CAAAA,WAAJ,EAAb,CACA,2EACU;AACA,sBAAc,6CACZ,+EACA,MAAKI,KAAL,CAAa,CACTC,IAAI,CAAE,IADG,CAAb,CAFY,aAKf,CAPT,uFAQ6B,CACjB,GAAI,CAACF,IAAI,CAACG,QAAL,EAAL,CAAsB,CAClB,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,CAA2B,QAA3B,EACH,CAFD,IAGK,CACD,GAAI,CACA,GAAMC,CAAAA,OAAO,CAAGP,IAAI,CAACQ,UAAL,EAAhB,CACA,KAAKC,QAAL,CAAc,CACVP,IAAI,CAAEK,OADI,CAAd,EAGH,CACD,MAAMG,GAAN,CAAU,CACNV,IAAI,CAACW,MAAL,GACA,KAAKP,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,CAA2B,QAA3B,EACH,CACJ,CACJ,CAxBT,uCA0BiB,CACL,GAAI,KAAKL,KAAL,CAAWC,IAAf,CAAqB,CACjB,MACI,qBAAC,aAAD,EAAe,OAAO,CAAE,KAAKE,KAAL,CAAWC,OAAnC,CAA4C,IAAI,CAAE,KAAKJ,KAAL,CAAWC,IAA7D,EADJ,CAGH,CAJD,IAKK,CACD,MAAO,KAAP,CACH,CACJ,CAnCT,yBAAiCN,SAAjC,GAwCH","sourcesContent":["import React, { Component } from 'react';\nimport AuthService from './AuthService';\n\nexport default function withAuth(AuthComponent) {\n    const Auth = new AuthService();\n    return class AuthWrapped extends Component {\n              // Code here now\n              constructor() {\n                super();\n                this.state = {\n                    user: null\n                }\n            }\n            componentWillMount() {\n                if (!Auth.loggedIn()) {\n                    this.props.history.replace('/login')\n                }\n                else {\n                    try {\n                        const profile = Auth.getProfile()\n                        this.setState({\n                            user: profile\n                        })\n                    }\n                    catch(err){\n                        Auth.logout()\n                        this.props.history.replace('/login')\n                    }\n                }\n            }\n\n            render() {\n                if (this.state.user) {\n                    return (\n                        <AuthComponent history={this.props.history} user={this.state.user} />\n                    )\n                }\n                else {\n                    return null\n                }\n            }\n\n          }\n\n\n}"]},"metadata":{},"sourceType":"module"}