{"ast":null,"code":"var _jsxFileName = \"/Users/davidirizarry/Desktop/Macbook/Coding-BootCamp/Coding-BootCamp/25-Project-3/resume_finder/client/src/components/withAuth.js\";\nimport React, { Component } from 'react';\nimport AuthService from './AuthService';\nexport default function withAuth(AuthComponent) {\n  const Auth = new AuthService();\n  return class AuthWrapped extends Component {\n    // Code here now\n    constructor() {\n      super();\n      this.state = {\n        user: null\n      };\n    }\n\n    componentWillMount() {\n      if (!Auth.loggedIn()) {\n        this.props.history.replace('/login');\n      } else {\n        try {\n          const profile = Auth.getProfile();\n          this.setState({\n            user: profile\n          });\n        } catch (err) {\n          Auth.logout();\n          this.props.history.replace('/login');\n        }\n      }\n    }\n\n    render() {\n      if (this.state.user) {\n        return React.createElement(AuthComponent, {\n          history: this.props.history,\n          user: this.state.user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        });\n      } else {\n        return null;\n      }\n    }\n\n  };\n}","map":{"version":3,"sources":["/Users/davidirizarry/Desktop/Macbook/Coding-BootCamp/Coding-BootCamp/25-Project-3/resume_finder/client/src/components/withAuth.js"],"names":["React","Component","AuthService","withAuth","AuthComponent","Auth","AuthWrapped","constructor","state","user","componentWillMount","loggedIn","props","history","replace","profile","getProfile","setState","err","logout","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,eAAe,SAASC,QAAT,CAAkBC,aAAlB,EAAiC;AAC5C,QAAMC,IAAI,GAAG,IAAIH,WAAJ,EAAb;AACA,SAAO,MAAMI,WAAN,SAA0BL,SAA1B,CAAoC;AACjC;AACAM,IAAAA,WAAW,GAAG;AACZ;AACA,WAAKC,KAAL,GAAa;AACTC,QAAAA,IAAI,EAAE;AADG,OAAb;AAGH;;AACDC,IAAAA,kBAAkB,GAAG;AACjB,UAAI,CAACL,IAAI,CAACM,QAAL,EAAL,EAAsB;AAClB,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,CAA2B,QAA3B;AACH,OAFD,MAGK;AACD,YAAI;AACA,gBAAMC,OAAO,GAAGV,IAAI,CAACW,UAAL,EAAhB;AACA,eAAKC,QAAL,CAAc;AACVR,YAAAA,IAAI,EAAEM;AADI,WAAd;AAGH,SALD,CAMA,OAAMG,GAAN,EAAU;AACNb,UAAAA,IAAI,CAACc,MAAL;AACA,eAAKP,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,CAA2B,QAA3B;AACH;AACJ;AACJ;;AAEDM,IAAAA,MAAM,GAAG;AACL,UAAI,KAAKZ,KAAL,CAAWC,IAAf,EAAqB;AACjB,eACI,oBAAC,aAAD;AAAe,UAAA,OAAO,EAAE,KAAKG,KAAL,CAAWC,OAAnC;AAA4C,UAAA,IAAI,EAAE,KAAKL,KAAL,CAAWC,IAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAGH,OAJD,MAKK;AACD,eAAO,IAAP;AACH;AACJ;;AAnCkC,GAA3C;AAwCH","sourcesContent":["import React, { Component } from 'react';\nimport AuthService from './AuthService';\n\nexport default function withAuth(AuthComponent) {\n    const Auth = new AuthService();\n    return class AuthWrapped extends Component {\n              // Code here now\n              constructor() {\n                super();\n                this.state = {\n                    user: null\n                }\n            }\n            componentWillMount() {\n                if (!Auth.loggedIn()) {\n                    this.props.history.replace('/login')\n                }\n                else {\n                    try {\n                        const profile = Auth.getProfile()\n                        this.setState({\n                            user: profile\n                        })\n                    }\n                    catch(err){\n                        Auth.logout()\n                        this.props.history.replace('/login')\n                    }\n                }\n            }\n\n            render() {\n                if (this.state.user) {\n                    return (\n                        <AuthComponent history={this.props.history} user={this.state.user} />\n                    )\n                }\n                else {\n                    return null\n                }\n            }\n\n          }\n\n\n}"]},"metadata":{},"sourceType":"module"}